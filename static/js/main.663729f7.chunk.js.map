{"version":3,"sources":["img/weather/thunderstorm.svg","img/weather/heavy-rain.svg","img/weather/light-rain.svg","img/weather/snow.svg","img/weather/clear.svg","img/weather/cloud.svg","img/bus.svg","img/bilibili.svg","img/umbrella.svg","img/mask.svg","img/left.svg","img/right.svg","img/check.svg","cards/Card.tsx","utils/bus.ts","utils/helper.ts","cards/Section.tsx","cards/Bus.tsx","utils/weather.ts","utils/air.ts","cards/Weather.jsx","utils/video.ts","cards/Video.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","__webpack_require__","p","icons","busType","time","mapping","_mapping","Object","defineProperty","thunderstorm","heavyRain","lightRain","snow","clear","cloud","bus","video","Card","_this$props","this","props","color","icon","title","subtitle","loading","link","children","react_default","a","createElement","style","backgroundColor","href","target","className","alt","src","Component","getBusDetails","_x","_getBusDetails","apply","arguments","_callee","type","direction","now","response","list","regenerator_default","wrap","_context","prev","next","toCompany","Date","fetch","concat","sent","json","abrupt","stop","isToday","date","getFullYear","getMonth","getDate","getTime","hour","getHours","night","morning","noon","afternoon","evening","Bus","state","buses","helper","_this","setState","fromCompany","map","seconds","Math","round","fn","timespan","previous","id","window","requestAnimationFrame","callback","timestamp","cancelAnimationFrame","length","cards_Card","slice","join","PureComponent","Section_mapping","mapWeatherIcon","weatherId","getWeatherDetails","_getWeatherDetails","weatherResult","weatherTemperature","temp","temperature","weather","rainy","some","_ref","getAirDetails","_getAirDetails","data","Weather","air","aqi","details","morn","eve","day","getWeather","getAir","assign","umbrella","Array","from","floor","_","i","mask","key","fetchBilibili","getBilibiliDetails","_getBilibiliDetails","_callee2","result","index","daysUntilToday","videos","_context2","findIndex","is_today","seasons","filter","season","is_published","episode","pub_index","matched","exec","episodeNum","pub_ts","seasonId","season_id","ep_id","reduce","acc","Video","watchList","onNext","onPrevious","onWatched","watched","JSON","parse","localStorage","getItem","setItem","stringify","getPendingWatchList","Promise","all","e","then","bind","config","default","resolve","playlist","unwatched","bilibili","indexOf","sort","videoA","videoB","isVideoAToday","isVideoBToday","videoAIndex","videoBIndex","hasUnwatched","hasPrevious","hasNext","undefined","onClick","left","right","check","App","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","updateTime","document","hidden","addEventListener","removeEventListener","child","React","name","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","src_App_0","getElementById","URL","process","origin","contentType","headers","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.663729f7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/thunderstorm.58ebab15.svg\";","module.exports = __webpack_public_path__ + \"static/media/heavy-rain.caa6ed2b.svg\";","module.exports = __webpack_public_path__ + \"static/media/light-rain.06661442.svg\";","module.exports = __webpack_public_path__ + \"static/media/snow.20ff1fe1.svg\";","module.exports = __webpack_public_path__ + \"static/media/clear.a835ff7f.svg\";","module.exports = __webpack_public_path__ + \"static/media/cloud.142dc879.svg\";","module.exports = __webpack_public_path__ + \"static/media/bus.e574b9b3.svg\";","module.exports = __webpack_public_path__ + \"static/media/bilibili.a13a87fb.svg\";","module.exports = __webpack_public_path__ + \"static/media/umbrella.934ffe5a.svg\";","module.exports = __webpack_public_path__ + \"static/media/mask.c11d3a66.svg\";","module.exports = __webpack_public_path__ + \"static/media/left.4d5ba73f.svg\";","module.exports = __webpack_public_path__ + \"static/media/right.064b03a6.svg\";","module.exports = __webpack_public_path__ + \"static/media/check.47e2c3ee.svg\";","import React, { Component } from 'react';\nimport thunderstorm from '../img/weather/thunderstorm.svg';\nimport heavyRain from '../img/weather/heavy-rain.svg';\nimport lightRain from '../img/weather/light-rain.svg';\nimport snow from '../img/weather/snow.svg';\nimport clear from '../img/weather/clear.svg';\nimport cloud from '../img/weather/cloud.svg';\nimport bus from '../img/bus.svg';\nimport video from '../img/bilibili.svg';\n\nexport enum icons {\n  thunderstorm,\n  heavyRain,\n  lightRain,\n  snow,\n  clear,\n  cloud,\n\n  bus,\n  video,\n};\n\nconst mapping = {\n  [icons.thunderstorm]: thunderstorm,\n  [icons.heavyRain]: heavyRain,\n  [icons.lightRain]: lightRain,\n  [icons.snow]: snow,\n  [icons.clear]: clear,\n  [icons.cloud]: cloud,\n\n  [icons.bus]: bus,\n  [icons.video]: video,\n};\n\nclass Card extends Component <{ color: string, icon: icons, title: string, subtitle: string, loading: boolean, link?: string }> {\n  render() {\n    const {\n      color,\n      icon,\n      title,\n      subtitle,\n      loading,\n      link,\n      children,\n    } = this.props;\n    return (\n      <section style={{ backgroundColor: color }}>\n        {!loading && (\n          <a href={link} target=\"_blank\">\n            {icon && <img className=\"icon\" alt=\"icon\" src={mapping[icon]} />}\n            <h1>{title}</h1>\n            <h3>{subtitle}</h3>\n          </a>\n        )}\n        {children}\n      </section>\n    );\n  }\n}\n\nexport default Card;\n","export enum busType {\n  toCompany,\n  fromCompany,\n};\n\nexport default async function getBusDetails(type: busType) {\n  const direction = type === busType.toCompany ? 'work' : 'home';\n  const now = Date.now();\n  const response = await fetch(`https://laysent-daily-transport.now.sh/?direction=${direction}&timestamp=${now}&lat=30.29365&lng=120.16142`);\n  const list: Array<number> = await response.json();\n  return list;\n}\n","export function isMorning() {\n  return (new Date()).getHours() < 12;\n}\n\nexport function isToday(date: Date) {\n  const now = new Date();\n  return date.getFullYear() === now.getFullYear()\n    && date.getMonth() === now.getMonth()\n    && date.getDate() === now.getDate();\n}\n\nexport function setIntervalWhenActive(fn: () => void, timespan: number) {\n  let previous = 0;\n  let id: number | null = null;\n  function callback(timestamp: number) {\n    if (timestamp - previous >= timespan) {\n      fn();\n      previous = timestamp;\n    }\n    id = window.requestAnimationFrame(callback);\n  }\n  id = window.requestAnimationFrame(callback);\n  fn();\n  return () => {\n    if (id === null) return;\n    window.cancelAnimationFrame(id);\n    id = null;\n  };\n}\n\nexport enum time {\n  morning,\n  noon,\n  afternoon,\n  evening,\n  night\n};\n\nexport function getTime() {\n  const now = new Date();\n  const hour = now.getHours();\n  if (hour < 7) return time.night;\n  if (hour < 11) return time.morning;\n  if (hour < 14) return time.noon;\n  if (hour < 18) return time.afternoon;\n  if (hour < 22) return time.evening;\n  return time.night;\n}\n","import React, { Component } from 'react';\nimport thunderstorm from '../img/weather/thunderstorm.svg';\nimport heavyRain from '../img/weather/heavy-rain.svg';\nimport lightRain from '../img/weather/light-rain.svg';\nimport snow from '../img/weather/snow.svg';\nimport clear from '../img/weather/clear.svg';\nimport cloud from '../img/weather/cloud.svg';\nimport bus from '../img/bus.svg';\n\nexport enum icons {\n  thunderstorm,\n  heavyRain,\n  lightRain,\n  snow,\n  clear,\n  cloud,\n\n  bus,\n};\n\nconst mapping = {\n  [icons.thunderstorm]: thunderstorm,\n  [icons.heavyRain]: heavyRain,\n  [icons.lightRain]: lightRain,\n  [icons.snow]: snow,\n  [icons.clear]: clear,\n  [icons.cloud]: cloud,\n\n  [icons.bus]: bus,\n};\n\nclass Section extends Component <{ className: string, icon: icons, title: string, subtitle: string, loading: boolean }> {\n  render() {\n    const {\n      className,\n      icon,\n      title,\n      subtitle,\n      loading,\n      children,\n    } = this.props;\n    return (\n      <section className={className}>\n        {!loading && (\n          <React.Fragment>\n            <img className=\"icon\" alt=\"icon\" src={mapping[icon]} />\n            <h1>{title}</h1>\n            <h3>{subtitle}</h3>\n          </React.Fragment>\n        )}\n        {children}\n      </section>\n    );\n  }\n}\n\nexport default Section;\n","import React, { PureComponent } from 'react';\nimport Card, { icons } from './Card';\nimport getBusDetails, { busType } from '../utils/bus';\nimport * as helper from '../utils/helper';\n\nclass Bus extends PureComponent {\n  state = {\n    buses: [],\n    loading: true,\n  }\n  stop: (() => void) | null = null;\n  getBusDetails = async () => {\n    const time = helper.getTime();\n    if (time === helper.time.night) {\n      this.setState({\n        buses: [],\n        loading: false,\n      });\n      return;\n    }\n    const type = time === helper.time.morning ? busType.toCompany : busType.fromCompany;\n    const buses = await getBusDetails(type);\n    this.setState({\n      buses: buses.map(seconds => Math.round(seconds / 60)),\n      loading: false,\n    });\n  }\n  componentDidMount() {\n    this.stop = helper.setIntervalWhenActive(this.getBusDetails, 30 * 1000);\n  }\n  componentWillUnmount() {\n    if (this.stop !== null) this.stop();\n  }\n  render() {\n    const buses = this.state.buses;\n    let title = 'Go Texi';\n    if (buses.length > 0) title = `${buses[0]} min`;\n    else if (this.state.loading) title = '-';\n    return (\n      <Card\n        color=\"#f9d171\"\n        title={title}\n        subtitle={buses.length > 1 ? `${buses.slice(1).map(bus => `${bus} min`).join('/')}` : ''}\n        icon={icons.bus}\n        loading={false}\n      />\n    );\n  }\n}\n\nexport default Bus;\n","import { icons } from '../cards/Section';\n\nfunction mapWeatherIcon(weatherId: number) {\n  if (weatherId >= 200 && weatherId <= 232) {\n    return icons.thunderstorm;\n  } else if (weatherId >= 300 && weatherId <= 321) {\n    return icons.heavyRain;\n  } else if (weatherId >= 500 && weatherId <= 531) {\n    return icons.lightRain;\n  } else if (weatherId >= 600 && weatherId <= 622) {\n    return icons.snow;\n  } else if (weatherId === 800) {\n    return icons.clear;\n  } else if (weatherId >= 801 && weatherId <= 804) {\n    return icons.cloud;\n  }\n  return icons.clear;\n}\ninterface Weather {\n  clouds: number;\n  deg: number;\n  dt: number;\n  humidity: number;\n  pressure: number;\n  speed: number;\n  temp: {\n    day: number;\n    min: number;\n    max: number;\n    night: number;\n    eve: number;\n    morn: number;\n  };\n  weather: Array<{\n    id: number;\n    main: string;\n    icon: string;\n    description: string;\n  }>;\n}\n\ninterface WeatherResponse {\n  city: {\n    id: number;\n    name: string;\n    coord: {\n      lon: number;\n      lat: number;\n    };\n    country: string;\n    population: number;\n  };\n  cnt: number;\n  cod: string;\n  message: number;\n  list: Array<Weather>\n}\n\nexport default async function getWeatherDetails() {\n  // Hit the weather API\n  const weatherApiUrl = 'https://api.openweathermap.org/data/2.5/forecast/daily?lat=30.29365&lon=120.16142&units=metric&cnt=1&appid=d94bcd435b62a031771c35633f9f310a';\n  const response = await fetch(weatherApiUrl);\n  const weatherResult: WeatherResponse = await response.json();\n\n  // Update the tempature\n  const weatherTemperature = weatherResult.list[0].temp;\n  return {\n    temperature: weatherTemperature,    \n    icon: mapWeatherIcon(weatherResult.list[0].weather[0].id),\n    rainy: weatherResult.list[0].weather.some(({ id }) => {\n      const icon = mapWeatherIcon(id);\n      return icon === icons.lightRain || icon === icons.heavyRain;\n    }),\n  };\n}\n","interface Air {\n  aqi: number;\n  attributions: Array<{\n    url: string;\n    name: string;\n  }>;\n  city: {\n    geo: [number, number];\n    name: string;\n    url: string;\n  };\n  debug: {\n    sync: string;\n  };\n  dominentpol: string;\n  iaqi: {\n    co: { v: number };\n    no2: { v: number };\n    o3: { v: number };\n    pm10: { v: number };\n    pm25: { v: number };\n    so2: { v: number };\n    w: { v: number };\n  };\n  idx: number;\n  time: {\n    v: number;\n  };\n}\n\ninterface AirResponse {\n  status: 'ok';\n  data: Air;\n}\n\nexport default async function getAirDetails() {\n  // http://aqicn.org/city/zhejiang/hangzhoushi/chaohuiwuqu/ to get @722\n  const url = 'https://api.waqi.info/feed/@722/?token=877232d674043e76c5ea9037b8772e1aa4dbd702';\n  const response = await fetch(url);\n  const json: AirResponse = await response.json();\n  return json.data;\n}\n","import React, { PureComponent } from 'react';\nimport Card from './Card';\nimport { icons } from './Section';\nimport umbrella from '../img/umbrella.svg';\nimport mask from '../img/mask.svg';\nimport getWeatherDetails from '../utils/weather';\nimport getAirDetails from '../utils/air';\nimport * as helper from '../utils/helper';\n\nclass Weather extends PureComponent {\n  state = {\n    weather: {\n      loading: true,\n      title: '',\n      subtitle: '',\n      rainy: false,\n      icon: icons.clear,\n    },\n    air: {\n      loading: true,\n      aqi: 0,\n    },\n  };\n  async getWeather() {\n    const details = await getWeatherDetails();\n\n    this.setState({\n      weather: {\n        loading: false,\n        title: helper.isMorning() ? details.temperature.morn : details.temperature.eve + ' ° C',\n        subtitle: `${details.temperature.night} ~ ${details.temperature.day}  ° C`,\n        rainy: details.rainy,\n        icon: details.icon,\n      },\n    });\n  }\n  async getAir() {\n    const details = await getAirDetails();\n    this.setState({\n      air: {\n        loading: false,\n        aqi: details.aqi,\n      },\n    });\n  }\n  componentDidMount() {\n    this.getWeather();\n    this.getAir();\n  }\n  render() {\n    return (\n      <Card\n        color=\"#38c9ba\"\n        {...this.state.weather}\n      >\n        {this.state.weather.rainy && (\n          <img src={umbrella} alt=\"bring umbrella\" className=\"small-icon left-bottom\" />\n        )}\n        {!this.state.air.loading && (\n          <div className=\"right-bottom\">\n            {Array.from({ length: Math.floor(this.state.air.aqi / 50) }).map((_, i) => (\n              <img src={mask} alt=\"air condition icon\" className=\"small-icon\" key={i} />\n            ))}\n          </div>\n        )}\n      </Card>\n    );\n  }\n}\n\nexport default Weather;\n","interface BilibiliVideo {\n  cover: string;\n  delay: number;\n  ep_id: number;\n  favorites: number;\n  follow: number;\n  is_published: 0 | 1;\n  pub_index: string;\n  pub_time: string;\n  pub_ts: number;\n  season_id: number;\n  season_status: number;\n  square_cover: string;\n  title: string;\n}\n\ninterface BilibiliVideosInDay {\n  date: string;\n  date_ts: number;\n  day_of_week: number;\n  is_today: 0 | 1;\n  seasons: Array<BilibiliVideo>;\n}\n\ninterface BilibiliTimelineResponse {\n  code: number;\n  message: 'success';\n  result: Array<BilibiliVideosInDay>;\n}\n\nexport interface VideoDetails {\n  date: Date;\n  episode: string;\n  title: string;\n  seasonId: number;\n  id: number;\n  episodeNum: number;\n}\n\nasync function fetchBilibili() {\n  const response = await fetch('https://cors-anywhere.herokuapp.com/http://bangumi.bilibili.com/web_api/timeline_global');\n  const json: BilibiliTimelineResponse = await response.json();\n  return json;\n}\n\nexport async function getBilibiliDetails() {\n  const { result } = await fetchBilibili();\n  const index = result.findIndex(day => day.is_today === 1);\n  const daysUntilToday = result.slice(0, index + 1);\n  const videos: Array<VideoDetails> = daysUntilToday\n    .map((day) => day.seasons\n      .filter(season => season.is_published === 1)\n      .map(season => {\n        const episode = season.pub_index;\n        const matched = /第([\\d.]+)话/.exec(episode);\n        let episodeNum = 0;\n        if (matched) {\n          episodeNum = +matched[1];\n        }\n        return {\n          date: new Date(season.pub_ts * 1000),\n          episode,\n          title: season.title,\n          seasonId: season.season_id,\n          id: season.ep_id,\n          episodeNum,\n        };\n      })\n    )\n    .reduce((acc, day) => acc.concat(day), []);\n  return videos;\n}","import React, { PureComponent } from 'react';\nimport Card, { icons } from './Card';\nimport { getBilibiliDetails, VideoDetails } from '../utils/video';\nimport * as helper from '../utils/helper';\nimport left from '../img/left.svg';\nimport right from '../img/right.svg';\nimport check from '../img/check.svg';\n\nfunction getWatchList() {\n  return import('../config'/* webpackChunkName: 'config' */).then(config => config.default.video);\n}\n\nclass Video extends PureComponent {\n  state: { watchList: Array<VideoDetails>, index: number } = {\n    watchList: [],\n    index: 0,\n  }\n  videos: Array<VideoDetails> | null = null;\n  async getPendingWatchList() {\n    const [playlist, videos] = await Promise.all([\n      getWatchList(),\n      this.videos ? Promise.resolve(this.videos) : getBilibiliDetails(),\n    ]);\n    this.videos = videos;\n    const watched = JSON.parse(localStorage.getItem('bilibili') || '{}');\n    const unwatched = videos\n    .filter((video) => {\n      const season = video.seasonId;\n      return playlist.bilibili.indexOf(season) >= 0;\n    })\n    .filter((video) => {\n      const season = video.seasonId;\n      const lastWatchedEpisode = watched[season] || 0;\n      return lastWatchedEpisode < video.episodeNum;\n    })\n    .sort((videoA, videoB) => {\n      const isVideoAToday = helper.isToday(videoA.date);\n      const isVideoBToday = helper.isToday(videoB.date);\n      if (isVideoAToday && !isVideoBToday) return -1;\n      if (!isVideoAToday && isVideoBToday) return 1;\n      const videoAIndex = playlist.bilibili.indexOf(videoA.seasonId);\n      const videoBIndex = playlist.bilibili.indexOf(videoB.seasonId);\n      if (videoAIndex < videoBIndex) return -1;\n      if (videoAIndex > videoBIndex) return 1;\n      return videoA.episode > videoB.episode ? 1 : -1;\n    });\n\n    this.setState({ watchList: unwatched, index: 0 });\n  }\n  onNext = () => {\n    this.setState({\n      index: this.state.index + 1,\n    });\n  }\n  onPrevious = () => {\n    this.setState({\n      index: this.state.index - 1,\n    });\n  }\n  onWatched = () => {\n    const watched: any = JSON.parse(localStorage.getItem('bilibili') || '{}');\n    const video = this.state.watchList[this.state.index];\n    watched[video.seasonId] = video.episodeNum;\n    localStorage.setItem('bilibili', JSON.stringify(watched));\n    this.getPendingWatchList();\n  }\n  componentDidMount() {\n    this.getPendingWatchList(); \n  }\n  render() {\n    const video = this.state.watchList[this.state.index];\n    const hasUnwatched = !!video;\n    const hasPrevious = this.state.index > 0;\n    const hasNext = this.state.index < this.state.watchList.length - 1;\n    return (\n      <Card\n        color=\"#6994e3\"\n        title={hasUnwatched ? 'Bilibili' : '-'}\n        subtitle={hasUnwatched ? video.title : ''}\n        icon={icons.video}\n        loading={false}\n        link={hasUnwatched ? `https://m.bilibili.com/bangumi/play/ep${video.id}` : undefined}\n      >\n        {hasPrevious && (\n          <button className=\"icon-button left-top\" onClick={this.onPrevious}>\n            <img src={left} alt=\"previous\" className=\"small-icon\" />\n          </button>\n        )}\n        {hasNext && (\n          <button className=\"icon-button right-top\" onClick={this.onNext}>\n            <img src={right} alt=\"next\" className=\"small-icon\" />\n          </button>\n        )}\n        <button className=\"icon-button left-bottom\" onClick={this.onWatched}>\n          <img src={check} alt=\"set watched\" className=\"small-icon\" />\n        </button>\n        <span className=\"right-bottom\">{hasUnwatched ? video.episode : ''}</span>\n      </Card>\n    );\n  }\n}\n\nexport default Video;\n","import React, { PureComponent } from 'react';\nimport './App.css';\nimport Bus from './cards/Bus';\nimport Weather from './cards/Weather';\nimport Video from './cards/Video';\nimport { time, getTime } from './utils/helper';\n\nclass App extends PureComponent {\n  state: { time: time };\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      time: getTime(),\n    };\n  }\n  updateTime = () => {\n    if (!document.hidden) {\n      this.setState({ time: getTime() });\n    }\n  }\n  componentDidMount() {\n    document.addEventListener('visibilitychange', this.updateTime, false);\n  }\n  componentWillUnmount() {\n    document.removeEventListener('visibilitychange', this.updateTime);\n  }\n  render() {\n    let children: Array<any> = [];\n    switch (this.state.time) {\n      case time.morning:\n        children = [Weather, Bus, Video];\n        break;\n      case time.noon:\n        children = [Video, Weather, Bus];\n        break;\n      case time.afternoon:\n        children = [Weather, Video, Bus];\n        break;\n      case time.evening:\n        children = [Bus, Video, Weather];\n        break;\n      case time.night:\n        children = [Video, Weather, Bus];\n        break;\n    }\n    return (\n      <main className=\"app\">\n        {children.map(child => React.createElement(child, { key: child.name }))}\n      </main>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}